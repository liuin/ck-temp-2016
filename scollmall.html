<!DOCTYPE html>
<html lang="zh-CN">
<head>   
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="renderer" content="webkit">
  <meta name="description" content="">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link rel="stylesheet" href="css/style.css">
  <!--[if lt IE 9]>
  <script src="http://cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
  <title>website name</title>
  <style type="text/css">
    * {border:0;margin: 0;padding: 0;list-style-type:none;}  

    /*-- list --*/
    .box {position:relative;overflow:hidden; width: 500px; margin: 0 auto; height: 500px; background:#333; color: #fff;}

    .list {position:absolute;width: 100%;top: 0; line-height: 1.8;}

    .list li{position:relative; left:100%;top: 0;  }

    .list li.in0 {animation: scollma 6s linear; -webkit-animation: scollma 6s linear;}

    .list li.in1 {animation: scollma 7s linear; -webkit-animation: scollma 7s linear;}

    .list li.in2 {animation: scollma 5s linear; -webkit-animation: scollma 5s linear;}

    .list li.in3 {animation: scollma 8s linear; -webkit-animation: scollma 8s linear;}

    .list li.in4 {animation: scollma 9s linear; -webkit-animation: scollma 9s linear;}


    @-webkit-keyframes scollma{
        0%{
          transform: translate(0,0); -webkit-transform: translate(0,0); 
        }
        100%{
          transform: translate(-200%,0); -webkit-transform: translate(-200%,0); 
        }
    }

    @-moz-keyframes scollma{
        0%{
          transform: translate(0,0); -moz-transform: translate(0,0); 
        }
        100%{
          transform: translate(-200%,0); -moz-transform: translate(-200%,0); 
        }
    }
    
    @keyframes scollma{
      0%{
        transform: translate(0,0); -webkit-transform: translate(0,0); 
      }
      100%{
        transform: translate(-200%,0); -webkit-transform: translate(-200%,0); 
      }
    }

    
  </style>
</head>
<body class="yh">
  <noscript>
    <strong>你的浏览器似乎禁用了 JavaScript。</strong><br />您必须在浏览器中启用JavaScript才能使用本网站的功能。
  </noscript>
  <div class="box" id="box">
    <!--  <ul class="list">
       <li>我的一段文字我的一段文字</li>
       <li>我的一段文字我的一段文字我的一段文字</li>
       <li>我的一段文字我的一段文字我的一段文字</li>
       <li>我的一段文字我的一段文字我的一段文字</li>
       <li>我的一段文字我的一段文字我的一段文字</li>
     </ul> -->
  </div>
  <script type="text/javascript" src="js/jquery.js"></script>
  <script type="text/javascript" src="js/script.js"></script>
  <script type="text/javascript">


/*-- 跑马灯 --*/


    $(document).ready(function() {
      

 /**
  * Checks for CSS support.
  * @private
  * @param {Array} array - The CSS properties to check for.
  * @returns {Array} - Contains the supported CSS property name and its index or `false`.
  */
 function isStyleSupported(array) {
   var p, s, fake = document.createElement('div'), list = array;
   for (p in list) {
     s = list[p];
     if (typeof fake.style[s] !== 'undefined') {
       fake = null;
       //return [ s, p ];
       return [ true ];
     }
   }
   return [ false ];
 }
 
 /**
  * Checks for CSS transition support.
  * @private
  * @todo Realy bad design
  * @returns {Number}
  */
 function isTransition() {
   return isStyleSupported([ 'animation', 'WebkitAnimation', 'MozAnimation', 'OAnimation' ])[0];
 }

      var timeout1,
      speed=4000,
      obj = $('#box'),
      itemspeed = [0,1,2,3,4],
      listdata = '<ul class="list"><li>我的一段文字我的一段文字</li><li>我的一段文字我的一段文字我的一段文字</li><li>我的一段文字我的一段文字我的一段文字</li><li>我的一段文字我的一段文字我的一段文字</li><li>我的一段文字我的一段文字我的一段文字</li></ul>';

      

        setInterval(
            function(){
             adddata ();
            },speed
        )

     
      function adddata () {
       
        var $listdata = $(listdata);
        obj.append($listdata);

        var gettop = Math.random()*50;
        $listdata.css('top', gettop + 'px');

        
 
        setTimeout(
          function(){
            var $arrspe = new Array();
             for (var i = 0;  i<itemspeed.length; i++) {
              $arrspe[i] = itemspeed[i];
             }

           
           $listdata.find('li').each(function () {
              var getrand = Math.floor($arrspe.length*Math.random());

              if (isTransition() == true) {
                $(this).addClass('in' + $arrspe[getrand]); //如果支持动画                
              }else {
                $(this).animate({
                  'left':'-100%'
                },getrand*1000+6000)
              }


              



               $arrspe.splice(getrand,1);
            })


          }, 100)

 

        setTimeout(
          function(){
           $listdata.remove();
          }, 2*speed)
      }

      adddata();    
       

    })
  </script>
</body>
</html>